const dataPopups=document.querySelectorAll("[data-popup]"),dataSidebars=document.querySelectorAll("[data-sidebar]"),dataTabs=document.querySelectorAll("[data-tab]"),popups=document.querySelectorAll(".popup"),sidebars=document.querySelectorAll(".sidebar"),filers=document.querySelectorAll(".item-form-filter"),cartCounter=document.querySelector(".counter-item-product"),body=document.body,lockBody=()=>{const e=window.innerWidth-body.offsetWidth;body.style.paddingRight=`${e}px`,body.classList.add("_lock-body")},unlockBody=()=>{setTimeout(()=>{body.removeAttribute("style"),body.classList.remove("_lock-body")},200)};if(filers.length>0){const e=e=>{e.classList.toggle("_hide-filter")};filers.forEach(t=>{const s=t.querySelector(".body-item-form-filter"),c=t.querySelector(".head-item-form-filter"),o=s.offsetHeight;t.style=`--body-height-filter: ${o}px;`,t.classList.contains("item-form-filter--price")||t.classList.add("_hide-filter"),c.addEventListener("click",e.bind(null,t))})}if(dataPopups.length>0){const e=e=>{const t=e.currentTarget.getAttribute("data-popup"),s=document.getElementById(t);s.classList.add("_active-popup"),lockBody()};dataPopups.forEach(t=>{t.addEventListener("click",e)})}if(dataSidebars.length>0){const e=e=>{const t=e.currentTarget.getAttribute("data-sidebar"),s=document.getElementById(t);s.classList.add("_active-sidebar"),lockBody()};dataSidebars.forEach(t=>{t.addEventListener("click",e)})}if(sidebars.length>0){const e=(e,s,c)=>{e.classList.remove("_active-sidebar"),unlockBody(),t(c,s)},t=(e,t)=>{e.target.closest(".custom-select-input")||t.length>0&&t.forEach(e=>{e.classList.contains("_active-select")&&e.classList.remove("_active-select")})},s=(e,s)=>{s.stopPropagation(),t(s,e)};sidebars.forEach(t=>{const c=t.querySelector(".sidebar__inner"),o=t.querySelector(".head-sidebar__close"),r=c.querySelectorAll(".custom-select-input");t.addEventListener("click",e.bind(null,t,r)),c.addEventListener("click",s.bind(null,r)),o.addEventListener("click",e.bind(null,t,r))})}if(popups.length>0){const e=e=>{const t=e.querySelector(".custom-select-input__head"),s=t.querySelector(".custom-select-input__title");return{selectHead:t,selectHeadTitle:s}},t=(e,t)=>{e.target.closest(".custom-select-input")||t.length>0&&t.forEach(e=>{e.classList.contains("_active-select")&&e.classList.remove("_active-select")})},s=e=>{const t=e.currentTarget.parentElement;t.classList.toggle("_active-select")},c=e=>{e.classList.remove("_active-select")},o=(e,t,s)=>{const o=s.currentTarget.innerText,r=e.parentElement;t.innerText=o,e.value=o,c(r)},r=(e,s,c)=>{e.classList.remove("_active-popup"),unlockBody(),t(c,s)},l=(e,s)=>{s.stopPropagation(),t(s,e)},i=e=>{e.forEach(e=>{e.querySelector("input").value=""})},a=e=>{e.forEach(e=>{e.querySelector("input").checked=!1})},n=e=>{const t=e.querySelectorAll(".inputs-form-popup__item._register"),s=e.querySelectorAll(".inputs-form-popup__item._login"),c=e.querySelectorAll(".form-popup-agreements__item");return{registerItems:t,loginItems:s,agreementsItems:c}},d=e=>{const t=e.querySelector(".form-popup-controls__link._register"),s=e.querySelector(".form-popup-controls__link._login");return{btnToLogin:t,btnToRegister:s}},u=(e,t,s)=>{e.classList.remove("_popup-register"),e.classList.add("_popup-login"),i(t),a(s)},p=(e,t)=>{e.classList.remove("_popup-login"),e.classList.add("_popup-register"),i(t)};popups.forEach(t=>{const c=t.querySelector(".popup__inner"),i=t.querySelector(".popup-close"),a=c.querySelectorAll(".custom-select-input");if(t.addEventListener("click",r.bind(null,t,a)),c.addEventListener("click",l.bind(null,a)),i.addEventListener("click",r.bind(null,t,a)),t.classList.contains("popup--authorization")){const{btnToLogin:e,btnToRegister:s}=d(t),{registerItems:c,loginItems:o,agreementsItems:r}=n(t);e.addEventListener("click",u.bind(null,t,c,r)),s.addEventListener("click",p.bind(null,t,o))}a.length>0&&a.forEach(t=>{const{selectHead:c,selectHeadTitle:r}=e(t),l=t.querySelector("input"),i=t.querySelectorAll(".custom-select-input__item");c.addEventListener("click",s),i.length>0&&i.forEach(e=>{e.addEventListener("click",o.bind(null,l,r))})})})}if(cartCounter){const e=cartCounter.querySelector("input"),t=t=>{const s=t.target.closest(".counter-item-product__btn--plus"),c=t.target.closest(".counter-item-product__btn--minus");s&&(e.value=++e.value),c&&e.value>1&&(e.value=--e.value)},s=t=>{const s=e.value.replace(/[^\d]/g,"");e.value=s};e.addEventListener("input",s),cartCounter.addEventListener("click",t)}if(dataTabs.length>0){const e=document.querySelectorAll(".body-description-page-product__item");e.length>0&&e.forEach(e=>{e.classList.remove("_hide-tab");const t=e.offsetHeight;e.style=`--height-body-tab: ${t}px`,e.classList.contains("_default-tab")||e.classList.add("_hide-tab")});const t=t=>{if(!t.currentTarget.classList.contains("_active-tab")){dataTabs.forEach(e=>e.classList.remove("_active-tab")),t.currentTarget.classList.add("_active-tab"),e.length>0&&e.forEach(e=>e.classList.add("_hide-tab"));const s=t.currentTarget.getAttribute("data-tab"),c=document.getElementById(s);c.classList.remove("_hide-tab")}};dataTabs.forEach(e=>{e.addEventListener("click",t)})}